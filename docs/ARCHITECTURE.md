# System Architecture - Supabase Transaction Filtering

## ğŸ“Š Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        React Components                          â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Transactions Page (index.tsx)                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Header       â”‚  â”‚ Filters      â”‚  â”‚ Table            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Advanced     â”‚  â”‚ Action Bar   â”‚  â”‚ Add Modal        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Filters      â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“ â†‘                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Custom Hooks (useTransactions.ts)                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚useTransactionsâ”‚ â”‚useTransactionâ”‚  â”‚ useDebounce      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚â€¢ State mgmt  â”‚  â”‚â€¢ Single item â”‚  â”‚â€¢ Search opt      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚â€¢ Filtering   â”‚  â”‚â€¢ Fetch by ID â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚â€¢ Auto fetch  â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“ â†‘                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Service Layer (transaction.service.ts)                    â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â€¢ getTransactions(filters)                                 â”‚ â”‚
â”‚  â”‚  â€¢ getTransactionCount(filters)                             â”‚ â”‚
â”‚  â”‚  â€¢ getTransactionById(id)                                   â”‚ â”‚
â”‚  â”‚  â€¢ deleteTransactions(ids)                                  â”‚ â”‚
â”‚  â”‚  â€¢ updateTransactionsCategory(ids, categoryId)              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Supabase Client                              â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  createClient() from @/lib/supabase/client                 â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â€¢ Browser client                                            â”‚ â”‚
â”‚  â”‚  â€¢ Auto authentication                                       â”‚ â”‚
â”‚  â”‚  â€¢ Session management                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Supabase Backend                         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  PostgreSQL Database                                        â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ transactions â”‚  â”‚ categories   â”‚  â”‚ accounts         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ id         â”‚  â”‚ â€¢ id         â”‚  â”‚ â€¢ id             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ user_id    â”‚  â”‚ â€¢ name       â”‚  â”‚ â€¢ name           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ amount     â”‚  â”‚ â€¢ type       â”‚  â”‚ â€¢ type           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ type       â”‚  â”‚ â€¢ icon       â”‚  â”‚ â€¢ balance        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ category_idâ”‚  â”‚ â€¢ color      â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ from_acct  â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ to_acct    â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ note       â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ date       â”‚  â”‚              â”‚  â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  Row Level Security (RLS)                                    â”‚ â”‚
â”‚  â”‚  â€¢ Filter by user_id automatically                           â”‚ â”‚
â”‚  â”‚  â€¢ Ensure data privacy                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow

### 1. Fetch Transactions

```
Component
   â†“
useTransactions hook
   â†“
transactionService.getTransactions(filters)
   â†“
Supabase Client
   â†“
PostgreSQL Database (with RLS)
   â†“ (returns data)
Supabase Client
   â†“
transactionService (transform data)
   â†“
useTransactions hook (setState)
   â†“
Component (re-render)
```

### 2. Apply Filters

```
User interaction (select filter)
   â†“
Component calls updateFilters()
   â†“
useTransactions updates filter state
   â†“
useEffect triggers (dependency: filters)
   â†“
fetchTransactions() called
   â†“
[Same flow as Fetch Transactions]
```

### 3. Delete Transactions

```
User clicks delete button
   â†“
Component calls deleteTransactions(ids)
   â†“
transactionService.deleteTransactions(ids)
   â†“
Supabase Client DELETE query
   â†“
PostgreSQL Database
   â†“ (success)
Auto refetch()
   â†“
Updated data shown in UI
```

## ğŸ¯ Filter Processing Flow

```
Raw Filter Input
   â†“
TransactionFilters interface
   {
     dateFrom?: string
     dateTo?: string
     categoryId?: string
     accountId?: string
     minAmount?: number
     maxAmount?: number
     type?: "income" | "expense" | "transfer"
     search?: string
   }
   â†“
Service Layer applies filters
   â†“
Supabase Query Builder
   .select(...)
   .gte("transaction_date", dateFrom)
   .lte("transaction_date", dateTo)
   .eq("category_id", categoryId)
   .or("from_account_id.eq...,to_account_id.eq...")
   .gte("amount", minAmount)
   .lte("amount", maxAmount)
   .eq("type", type)
   .ilike("note", `%${search}%`)
   â†“
SQL Query Generated
   â†“
PostgreSQL executes with RLS
   â†“
Filtered results returned
```

## ğŸ—ï¸ Component Hierarchy

```
<Transactions>
  â”‚
  â”œâ”€â”€ <TransactionHeader>
  â”‚     â””â”€â”€ totalRecords, export, add buttons
  â”‚
  â”œâ”€â”€ <TransactionFilters>
  â”‚     â””â”€â”€ Quick filters (date, category, amount)
  â”‚
  â”œâ”€â”€ <AdvancedFilters> (optional)
  â”‚     â””â”€â”€ Detailed filter form
  â”‚
  â”œâ”€â”€ <TransactionTable>
  â”‚     â”œâ”€â”€ <thead>
  â”‚     â””â”€â”€ <tbody>
  â”‚           â””â”€â”€ <TransactionRow> (multiple)
  â”‚
  â”œâ”€â”€ <SelectionActionBar>
  â”‚     â””â”€â”€ Bulk actions (categorize, tag, delete)
  â”‚
  â””â”€â”€ <AddTransactionModal>
        â””â”€â”€ Form to add new transaction
```

## ğŸ” Security Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser (User makes request)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase Client                        â”‚
â”‚ â€¢ Includes auth token in request       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase Auth Middleware               â”‚
â”‚ â€¢ Validates JWT token                  â”‚
â”‚ â€¢ Extracts user_id                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL Row Level Security (RLS)    â”‚
â”‚ â€¢ WHERE user_id = auth.uid()           â”‚
â”‚ â€¢ Only return user's own data          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return filtered data to client         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Type System

```
Database Types (Supabase)
   â†“
TransactionFromDB
   {
     id: string
     user_id: string
     amount: number
     type: "income" | "expense" | "transfer"
     category_id: string | null
     ...
     categories?: { ... }  // Joined relation
     from_account?: { ... }  // Joined relation
     to_account?: { ... }  // Joined relation
   }
   â†“
convertDBTransactionToUI()
   â†“
Transaction (UI Type)
   {
     id: number
     date: string  // Formatted
     merchant: string
     description: string
     icon: LucideIcon
     category: { name, color, editable }
     account: string
     status: "verified" | "review"
     amount: number  // Negative for expenses
   }
   â†“
Rendered in UI
```

## ğŸ¨ State Management Flow

```
Component Level
â”œâ”€â”€ Local UI State
â”‚   â”œâ”€â”€ selectedIds: number[]
â”‚   â”œâ”€â”€ hoveredRow: number | null
â”‚   â””â”€â”€ isAddModalOpen: boolean
â”‚
â””â”€â”€ useTransactions Hook
    â”œâ”€â”€ Data State
    â”‚   â”œâ”€â”€ transactions: TransactionFromDB[]
    â”‚   â”œâ”€â”€ totalCount: number
    â”‚   â”œâ”€â”€ isLoading: boolean
    â”‚   â””â”€â”€ error: string | null
    â”‚
    â””â”€â”€ Filter State
        â””â”€â”€ filters: TransactionFilters
            â”œâ”€â”€ dateFrom
            â”œâ”€â”€ dateTo
            â”œâ”€â”€ categoryId
            â”œâ”€â”€ accountId
            â”œâ”€â”€ minAmount
            â”œâ”€â”€ maxAmount
            â”œâ”€â”€ type
            â””â”€â”€ search
```

---

**Note**: This architecture ensures:

- âœ… Clean separation of concerns
- âœ… Type safety throughout
- âœ… Automatic data refetching
- âœ… Secure data access with RLS
- âœ… Reusable components and hooks
- âœ… Easy to test and maintain
